<div>
  <div class="container mt-1">
    <div class="card">
      <div class="card-header">
        <h4>
          Student Create
          <a routerLink="/" class="float-end"> Back</a>
        </h4>
      </div>
      <div class="card-body">
        <div class="content">
          <form class="need-validation" [formGroup]="studentForm">
            <div class="form-group">
              <p style="text-align: center">Profile Picture</p>
              <div class="profile-picture-container">
                <img
                  id="profile-image-preview"
                  src="{{ imageUrl }}"
                  class="rounded-circle"
                />
                <input
                  type="file"
                  id="profile-picture"
                  name="profile-picture"
                  [(ngModel)]="student.imageUrl"
                  accept="image/*"
                  (change)="previewProfilePicture($event)"
                />
              </div>
            </div>
            <div class="user-details">
              <div class="input-box">
                <span class="details">First Name</span>
                <input
                  type="text"
                  id="firstName"
                  formControlName="firstName"
                  placeholder="Enter your first name"
                  [(ngModel)]="student.firstName"
                  required
                />
                <div
                  class="text-danger"
                  *ngIf="
                    studentForm.controls['firstName'].invalid &&
                    (isFormSubmitted ||
                      studentForm.controls['firstName'].touched ||
                      studentForm.controls['firstName'].dirty)
                  "
                >
                  <span
                    *ngIf="studentForm.controls['firstName'].errors?.['required']"
                    >First name is required!</span
                  >
                </div>
              </div>
              <div class="input-box">
                <span class="details">Last Name</span>
                <input
                  type="text"
                  id="lastName"
                  formControlName="lastName"
                  placeholder="Enter your last name"
                  [(ngModel)]="student.lastName"
                  required
                />
                <div
                  class="text-danger"
                  *ngIf="
                    studentForm.controls['lastName'].invalid &&
                    (isFormSubmitted ||
                      studentForm.controls['lastName'].touched ||
                      studentForm.controls['lastName'].dirty)
                  "
                >
                  <span
                    *ngIf="studentForm.controls['lastName'].errors?.['required']"
                    >Last name is required!</span
                  >
                </div>
              </div>
              <div class="input-box">
                <span class="details">Mobile</span>
                <input
                  type="text"
                  id="phoneNumber"
                  formControlName="phoneNumber"
                  placeholder="Enter your mobile number"
                  [(ngModel)]="student.phoneNumber"
                  required
                />
                <div
                  class="text-danger"
                  *ngIf="
                    studentForm.controls['phoneNumber'].invalid &&
                    (isFormSubmitted ||
                      studentForm.controls['phoneNumber'].touched ||
                      studentForm.controls['phoneNumber'].dirty)
                  "
                >
                  <span
                    *ngIf="studentForm.controls['phoneNumber'].errors?.['required']"
                    >phoneNumber number is required!</span
                  >
                </div>
              </div>
              <div class="input-box">
                <span class="details">Email</span>
                <input
                  type="text"
                  id="email"
                  formControlName="email"
                  placeholder="Enter your email"
                  [(ngModel)]="student.email"
                  required
                />
                <div
                  class="text-danger"
                  *ngIf="
                    studentForm.controls['email'].invalid &&
                    (isFormSubmitted ||
                      studentForm.controls['email'].touched ||
                      studentForm.controls['email'].dirty)
                  "
                >
                  <span
                    *ngIf="studentForm.controls['email'].errors?.['required']"
                    >Email is required!</span
                  >
                  <span *ngIf="studentForm.controls['email'].errors?.['email']"
                    >Email is not valid!</span
                  >
                </div>
              </div>
              <div class="input-box">
                <span class="details">NIC</span>
                <input
                  type="text"
                  id="nic"
                  formControlName="nic"
                  placeholder="Enter your nic"
                  [(ngModel)]="student.nic"
                  required
                />
                <div
                  class="text-danger"
                  *ngIf="
                    studentForm.controls['nic'].invalid &&
                    (isFormSubmitted ||
                      studentForm.controls['nic'].touched ||
                      studentForm.controls['nic'].dirty)
                  "
                >
                  <span *ngIf="studentForm.controls['nic'].errors?.['required']"
                    >NIC is required!</span
                  >
                </div>
              </div>
              <div class="input-box">
                <span class="details">Date Of Birth</span>
                <input
                  type="date"
                  id="dateOfBirth"
                  formControlName="dateOfBirth"
                  placeholder="Select your birthday"
                  [(ngModel)]="student.dateOfBirth"
                  required
                />
                <div
                  class="text-danger"
                  *ngIf="
                    studentForm.controls['dateOfBirth'].invalid &&
                    (isFormSubmitted ||
                      studentForm.controls['dateOfBirth'].touched ||
                      studentForm.controls['dateOfBirth'].dirty)
                  "
                >
                  <span
                    *ngIf="studentForm.controls['dateOfBirth'].errors?.['required']"
                    >Date of birth is required!</span
                  >
                </div>
              </div>
              <div class="input-box">
                <span class="details">Address</span>
                <input
                  type="text"
                  id="address"
                  formControlName="address"
                  placeholder="Enter your address"
                  [(ngModel)]="student.address"
                  required
                />
                <div
                  class="text-danger"
                  *ngIf="
                    studentForm.controls['address'].invalid &&
                    (isFormSubmitted ||
                      studentForm.controls['address'].touched ||
                      studentForm.controls['address'].dirty)
                  "
                >
                  <span
                    *ngIf="studentForm.controls['address'].errors?.['required']"
                    >Address is required!</span
                  >
                </div>
              </div>
            </div>
            <div class="button">
              <input type="submit" value="Save" (click)="onSubmit()" />
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
